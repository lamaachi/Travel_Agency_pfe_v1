<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org" xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout" layout:decorate="~{layouts/_template}">
<head>
    <meta charset="UTF-8">
    <title>Travels list - Tournest</title>
    <link rel="stylesheet" th:href="@{/css/bootstrap.css}">
    <link rel="stylesheet" th:href="@{/simple-datatables/style.css}">
    <link rel="stylesheet" th:href="@{/webjars/font-awesome/6.4.0/css/all.min.css}"/>

    <link rel="stylesheet" th:href="@{/vendors/perfect-scrollbar/perfect-scrollbar.css}">
    <link rel="stylesheet" th:href="@{/css/app.css}">
    <link rel="shortcut icon" th:href="@{/images/favicon.svg}" type="image/x-icon">
</head>
<body>
<div class="main-content container-fluid" layout:fragment="content">
    <div class="page-title">
        <div class="row">
            <div class="col-12 col-md-6 order-md-1 order-last">
                <h3>Travels List</h3>
            </div>
        </div>
    </div>
    <section class="section">
        <div class="card">
            <div class="card-header">
                <div th:if="${param.success}" class="alert alert-success alert-dismissible fade show" role="alert">
                    <strong>Success!</strong>Travel Has Been Added Succussfully.</span>
                    <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
                </div>
                <div th:if="${param.successdelete}" class="alert alert-danger alert-dismissible fade show" role="alert">
                    <strong>Success!</strong>Travel Has Been Deleted Succussfully.</span>
                    <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
                </div>
                <div th:if="${param.successUpdate}" class="alert alert-info alert-dismissible fade show" role="alert">
                    <strong>Success!</strong>Travel Has Been Updated Succussfully.</span>
                    <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
                </div>
                <a th:href="@{/panel/admin/travels/addnew}" class="btn btn-primary">Add New Travel</a>
            </div>
            <div class="card-body">
                <table class='table table-striped' id="table1">
                    <thead>
                    <tr>
                        <th>id</th>
                        <th>title</th>
                        <th>TravelType</th>
                        <th>destination</th>
                        <th>price</th>
<!--                        <th>Image</th>-->
                        <th>Action</th>
                    </tr>
                    </thead>
                    <tbody>
                    <tr th:each="travel:${travels}">
                        <td th:text="${travel.id} "></td>
                        <td th:text="${#strings.length(travel.title) le 10} ? ${travel.title} : ${#strings.substring(travel.title, 0, 10) + '...'}"></td>
                        <td th:text="${travel.travelType}"></td>
                        <td th:text="${#strings.length(travel.destiantion) le 10} ? ${travel.destiantion} : ${#strings.substring(travel.destiantion, 0, 10) + '...'}"></td>
<!--                        <td>-->
<!--                            <img th:src="@{|/travel-images/${travel.image}?v=${timestamp}|}" class="img-responsive w-100" alt="Travel Image" />-->
<!--                        </td>-->
                        <td th:text="${travel.price}"></td>
                        <td>
                            <div class="btn-group">
                                 <a class="btn btn-sm btn-success" th:href="@{'/panel/admin/travels/'+${travel.id} }"><i class="fa-sharp fa-solid fa-eye fa-beat"></i></a>
                                <a   onclick="return confirm('Are you sure you want to delete this record?')" class="btn btn-sm btn-danger" th:href="@{/panel/admin/travels/delete(id=${travel.id})}"><i class="fa-solid fa-trash"></i></a>
                            </div>
                        </td>
                    </tr>
                    </tbody>
                </table>
            </div>
        </div>

    </section>
</div>
<script>
</script>
<script th:src="@{/js/feather-icons/feather.min.js}"></script>
<script th:src="@{/vendors/perfect-scrollbar/perfect-scrollbar.min.js}"></script>
<script th:src="@{/js/app.js}"></script>
<script th:src="@{/js/vendors.js}"></script>
<script th:src="@{/js/main.js}"></script>
<script th:src="@{/simple-datatables/simple-datatables.js}"></script>
<script th:src="@{/webjars/sweetalert2/11.7.5/dist/sweetalert2.all.min.js}"></script>
<script th:src="@{/js/index.js}"></script>
</body>
</html>